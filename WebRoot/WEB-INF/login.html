<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>初高中网络教学系统</title>
		<link href="../assets/css/login.css" rel="stylesheet" rev="stylesheet"
			  type="text/css" media="all"/>
		<script type="text/javascript" src="../assets/js/jQuery1.7.js"></script>
		<script type="text/javascript" src="../assets/js/jquery-1.8.2.min.js"></script>
		<script type="text/javascript" src="../assets/js/jquery1.42.min.js"></script>
		<script type="text/javascript" src="../assets/js/jquery.SuperSlide.js"></script>
		<script type="text/javascript" src="../assets/js/Validform_v5.3.2_min.js"></script>

		<script type="text/javascript">
            $(document).ready(function () {
                var $tab_li = $('#tab ul li');
                $tab_li.hover(function () {
                    $(this).addClass('selected').siblings().removeClass('selected');
                    var index = $tab_li.index(this);
                    $('div.tab_box > div').eq(index).show().siblings().hide();
                });
            });
		</script>
		<script type="text/javascript">
            $(function () {
                /*学生登录信息验证*/
                $("#stu_username_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入学号') {
                        $(this).val('');
                    }
                });
                $("#stu_username_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入学号');
                    }
                });
                $("#stu_password_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入密码') {
                        $(this).val('');
                    }
                });
                $("#stu_password_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入密码');
                    }
                });
                $("#stu_code_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入验证码') {
                        $(this).val('');
                    }
                });
                $("#stu_code_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入验证码');
                    }
                });
                $(".stu_login_error").Validform({
                    tiptype: function (msg, o, cssctl) {
                        var objtip = $(".stu_error_box");
                        cssctl(objtip, o.type);
                        objtip.text(msg);
                    },
                    ajaxPost: true
                });
                /*导师登录信息验证*/
                $("#tea_username_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入教工号') {
                        $(this).val('');
                    }
                });
                $("#tea_username_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入教工号');
                    }
                });
                $("#tea_password_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入密码') {
                        $(this).val('');
                    }
                });
                $("#tea_password_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入密码');
                    }
                });
                $("#tea_code_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入验证码') {
                        $(this).val('');
                    }
                });
                $("#tea_code_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入验证码');
                    }
                });
                $(".tea_login_error").Validform({
                    tiptype: function (msg, o, cssctl) {
                        var objtip = $(".tea_error_box");
                        cssctl(objtip, o.type);
                        objtip.text(msg);
                    },
                    ajaxPost: true
                });
                /*教务登录信息验证*/
                $("#sec_username_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入管理员账号') {
                        $(this).val('');
                    }
                });
                $("#sec_username_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入管理员账号');
                    }
                });
                $("#sec_password_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入密码') {
                        $(this).val('');
                    }
                });
                $("#sec_password_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入密码');
                    }
                });
                $("#sec_code_hide").focus(function () {
                    var username = $(this).val();
                    if (username == '输入验证码') {
                        $(this).val('');
                    }
                });
                $("#sec_code_hide").focusout(function () {
                    var username = $(this).val();
                    if (username == '') {
                        $(this).val('输入验证码');
                    }
                });
                $(".sec_login_error").Validform({
                    tiptype: function (msg, o, cssctl) {
                        var objtip = $(".sec_error_box");
                        cssctl(objtip, o.type);
                        objtip.text(msg);
                    },
                    ajaxPost: true
                });
            });
		</script>
		<script type="text/javascript">
            $(function () {
                $(".screenbg ul li").each(function () {
                    $(this).css("opacity", "0");
                });
                $(".screenbg ul li:first").css("opacity", "1");
                var index = 0;
                var t;
                var li = $(".screenbg ul li");
                var number = li.size();

                function change(index) {
                    li.css("visibility", "visible");
                    li.eq(index).siblings().animate({
                        opacity: 0
                    }, 3000);
                    li.eq(index).animate({
                        opacity: 1
                    }, 3000);
                }

                function show() {
                    index = index + 1;
                    if (index <= number - 1) {
                        change(index);
                    } else {
                        index = 0;
                        change(index);
                    }
                }

                t = setInterval(show, 8000);
                //根据窗口宽度生成图片宽度
                var width = $(window).width();
                $(".screenbg ul img").css("width", width + "px");
            });
		</script>
		<script type="text/javascript">
			function stuLogin() {
				var loginname = $(".stu_loginName").val();
				var password = $(".stu_password").val();
				var type = $(".stu_type").val();
				// var code = $(".code").val();
				// alert(code);
				if (loginname == null || loginname == "输入学号") {
					alert("请输入学号");
					return;
				}
				if (password == null) {
					alert("请输入密码");
					return;
				}
				// if (code == null || code=="输入验证码") {
				// 	alert("请输入验证码");
				// 	return;
				// }
				// if (code!="DTEF" && code!="dtef") {
				// 	alert("验证码错误");
				// 	return;
				// }
				$.ajax({
					type: "POST",
					url: 'doLogin',
					data: {loginname: loginname, password: password,type: type},
					dataType: 'json',
					cache: false,
					success: function (data) {
						if (0==data["flag"]) {
							alert("登陆成功！");
							window.location.href="../index?type=1";
						} else {
							alert(data["msg"]);
						}
					}
				});
			}

			function teaLogin() {
				var loginname = $(".tea_loginName").val();
				var password = $(".tea_password").val();
				var type = $(".tea_type").val();
				// var code = $(".tea_code").val();
				// alert(code);
				if (loginname == null || loginname == "输入管理员账号") {
					alert("请输入账号");
					return;
				}
				if (password == null) {
					alert("请输入密码");
					return;
				}
				// if (code == null || code=="输入验证码") {
				// 	alert("请输入验证码");
				// 	return;
				// }
				// if (code!="DTEF" && code!="dtef") {
				// 	alert("验证码错误");
				// 	return;
				// }
				$.ajax({
					type: "POST",
					url: 'doLogin',
					data: {loginname: loginname, password: password, type: type},
					dataType: 'json',
					cache: false,
					success: function (data) {
						if (0==data["flag"]) {
							alert("登陆成功！");
							window.location.href="../index?type=2";
						} else {
							alert(data["msg"]);
						}
					}
				});
			}

			function maLogin() {
				var loginname = $(".ma_loginName").val();
				var password = $(".ma_password").val();
				var type = $(".ma_type").val();
				// var code = $(".ma_code").val();
				// alert(code);
				if (loginname == null || loginname == "输入学号") {
					alert("请输入教工号");
					return;
				}
				if (password == null) {
					alert("请输入密码");
					return;
				}
				// if (code == null || code=="输入验证码") {
				// 	alert("请输入验证码");
				// 	return;
				// }
				// if (code!="DTEF" && code!="dtef") {
				// 	alert("验证码错误");
				// 	return;
				// }
				$.ajax({
					type: "POST",
					url: 'doLogin',
					data: {loginname: loginname, password: password, type: type},
					dataType: 'json',
					cache: false,
					success: function (data) {
						if (0==data["flag"]) {
							alert(data["msg"]);
							window.location.href="index.html";
						} else {
							alert(data["msg"]);
							return;
						}
					}
				});
			}
		</script>
	</head>
	<body>
	<div id="tab">
		<ul class="tab_menu">
			<li class="selected">学生登录</li>
			<li>导师登录</li>
			<li>管理员登录</li>
		</ul>
		<div class="tab_box">
			<!-- 学生登录开始 -->
			<div>
				<div class="stu_error_box"></div>
					<div id="username">
						<label>学&nbsp;&nbsp;&nbsp;号：</label>
						<input type="text" id="stu_username_hide" name="username" value="输入学号" nullmsg="学号不能为空！" sucmsg="学号验证通过！" class="stu_loginName"/>
					</div>
					<div id="password">
						<label>密&nbsp;&nbsp;&nbsp;码：</label>
						<input type="password" id="stu_password_hide" name="password" value="" nullmsg="密码不能为空！" sucmsg="密码验证通过！" class="stu_password"/>
					</div>
					<!--<div id="code">-->
						<!--<label>验证码：</label>-->
						<!--<input type="text" id="stu_code_hide" name="code" value="输入验证码" sucmsg="验证码验证通过！" class="stu_code"/> <img-->
							<!--src="../assets/images/captcha.jpg" title="点击更换" alt="验证码占位图"/>-->
					<!--</div>-->
					<!--<div id="remember">-->
						<!--<input type="checkbox" name="remember"> <label>记住密码</label>-->
					<!--</div>-->
					<div style="display: none;">
						<input type="text" value="1" class="stu_type">
					</div>
					<div id="login">
						<button type="submit" id="stuLogin" onclick="stuLogin();">登录</button>
					</div>
			</div>
			<!-- 学生登录结束-->
			<!-- 导师登录开始-->
			<div class="hide">
				<div class="tea_error_box"></div>
				<form action="" method="post" class="tea_login_error">
					<div id="username">
						<label>教工号：</label> <input type="text" id="tea_username_hide"
												   name="username" value="输入教工号" nullmsg="教工号不能为空！"
												   sucmsg="教工号验证通过！" class="tea_loginName"/>
						<!--ajaxurl="demo/valid.jsp"-->
					</div>
					<div id="password">
						<label>密&nbsp;&nbsp;&nbsp;码：</label> <input type="password"
																	id="tea_password_hide" name="password" value=""
																	nullmsg="密码不能为空！" sucmsg="密码验证通过！" class="stu_password"/>
					</div>
					<!--<div id="code">-->
						<!--<label>验证码：</label> <input type="text" id="tea_code_hide"-->
												   <!--name="code" value="输入验证码" sucmsg="验证码验证通过！" class="tea_code"/> <img-->
							<!--src="../assets/images/captcha.jpg" title="点击更换" alt="验证码占位图"/>-->
					<!--</div>-->
					<!--<div id="remember">-->
						<!--<input type="checkbox" name="remember"> <label>记住密码</label>-->
					<!--</div>-->
					<div style="display: none;">
						<input type="text" value="2" class="tea_type">
					</div>
					<div id="login">
						<button type="submit" onclick="teaLogin();">登录</button>
					</div>
				</form>
			</div>
			<!-- 导师登录结束-->
			<!-- 教务登录开始-->
			<div class="hide">
				<div class="sec_error_box"></div>
				<form action="" method="post" class="sec_login_error">
					<div id="username">
						<label>账&nbsp;&nbsp;&nbsp;号：</label> <input type="text"
																	id="sec_username_hide" name="username" value="输入管理员账号"
																	nullmsg="管理员账号不能为空！" sucmsg="管理员账号验证通过！" class="ma_loginName"/>
						<!--ajaxurl="demo/valid.jsp"-->
					</div>
					<div id="password">
						<label>密&nbsp;&nbsp;&nbsp;码：</label> <input type="password"
																	id="sec_password_hide" name="password" value=""
																	nullmsg="密码不能为空！" sucmsg="密码验证通过！" class="ma_password"/>
					</div>
					<!--<div id="code">-->
						<!--<label>验证码：</label> <input type="text" id="sec_code_hide"-->
												   <!--name="code" value="输入验证码" sucmsg="验证码验证通过！" class="ma_code"/> <img-->
							<!--src="../assets/images/captcha.jpg" title="点击更换" alt="验证码占位图"/>-->
					<!--</div>-->
					<!--<div id="remember">-->
						<!--<input type="checkbox" name="remember"> <label>记住密码</label>-->
					<!--</div>-->
					<div style="display: none;">
						<input type="text" value="3" class="ma_type">
					</div>
					<div id="login">
						<button type="submit" onclick="maLogin();">登录</button>
					</div>
				</form>
			</div>
			<!-- 教务登录结束-->
		</div>
	</div>

	<div class="screenbg">
		<ul>
			<li><a href="javascript:;"><img src="../assets/images/0.jpg"></a>
			</li>
			<li><a href="javascript:;"><img src="../assets/images/1.jpg"></a>
			</li>
			<li><a href="javascript:;"><img src="../assets/images/2.jpg"></a>
			</li>
		</ul>
	</div>
	</body>

</html>